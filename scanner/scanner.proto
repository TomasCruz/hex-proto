syntax = "proto3";
import "google/protobuf/empty.proto";
package scanner;

message RangeMsg {
    int32 start = 1;
    int32 end = 2;
}

message HexameterMsg {
    int32 id = 1;
    bool para = 2;
    string txt = 3;
}

message HexMsg {
    repeated HexameterMsg hexes = 1;
}

message HexWordsMsg {
    int32 id = 1;
    int32 order = 2;
    int32 wordId = 3;
}

message ParsedMsg {
    int32 id = 1;
    bool para = 2;
    string txt = 3;
    repeated HexWordsMsg hexWords = 4;
}

message WordMsg {
    int32 id = 1;
    string txt = 2;
}

message TranslatableMsg {
    repeated WordMsg words = 1;
    repeated ParsedMsg parsed = 3;
}

service Hex {
    rpc GetHexes(RangeMsg) returns (HexMsg) {}
    rpc GetTranslatable(google.protobuf.Empty) returns (TranslatableMsg) {}
}
